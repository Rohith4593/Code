for length in range(2, n+1):
    for i in range(n-length+1):
        j = i + length - 1
        if s[i] == s[j]:
            if length == 2 or pal[i+1][j-1]:
                pal[i][j] = True
